service: queue.task

provider:
    name: aws
    region: us-east-1
    runtime: provided.al2

plugins:
    - ./vendor/bref/bref

functions:
    worker:
        handler: index.php
        description: 'Queue Worker Class Looks For Jobs'
        layers:
            - ${bref:layer.php-74}
    writer: 
        handler: writer.php
        layers: 
            - ${bref:layer.php-74}
        events:
            - httpApi: 'POST /message'
    

# Exclude files from deployment
package:
    patterns:
        - '!tests/**'
